"use strict";var login={init:function(e){this.$ele=document.querySelector(e),this.$loginBtn=this.$ele["login-btn"],this.$usernameInp=this.$ele.username,this.$passwordInp=this.$ele.password,this.$form=document.querySelector(".form"),this.$form_sm=document.querySelector(".form_sm"),this.$h2_2=this.$form.querySelector(".h2_2"),this.$h2_1=this.$form_sm.querySelector(".h2_1"),this.$banner_box=document.querySelector(".banner_box"),this.$top1=this.$form.querySelector(".form_top"),this.$top2=this.$form_sm.querySelector(".form_top"),this.$a1=this.$top1.querySelectorAll("a"),this.$a2=this.$top2.querySelectorAll("a");for(var t=0;t<this.$a1.length;t++)this.$a1[t].index=t;for(var o=0;o<this.$a2.length;o++)this.$a2[o].index=o;this.event()},event:function(){var o=this;this.$form.onclick=function(e){var t=(e=e||window.event).target||e.srcElement;"A"==t.nodeName&&1==t.index&&(o.$form.style.display="none",o.$form_sm.style.display="block")},this.$form_sm.onclick=function(e){var t=(e=e||window.event).target||e.srcElement;"A"==t.nodeName&&0==t.index&&(o.$form_sm.style.display="none",o.$form.style.display="block")},this.$loginBtn.onclick=function(){var e={method:"post",data:{username:o.$usernameInp.value,password:o.$passwordInp.value},success:function(e){e=JSON.parse(e),o.loginSuccess(e)}};sendAjax("http://localhost:1222/mi-shop/php/login.php",e)}},loginSuccess:function(e){200==e.code?(document.cookie="token="+e.data.token,document.cookie="user-id="+e.data.id,location.href="index.html"):alert(e.msg)}};